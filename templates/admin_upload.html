<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Upload</title>
<style>
body{font-family:system-ui;background:#f4f6f8;margin:0}
.box{
  max-width:500px;
  margin:40px auto;
  background:#fff;
  padding:30px;
  border-radius:18px;
}
.drop{
  border:2px dashed #4f46e5;
  padding:40px;
  border-radius:14px;
  text-align:center;
  cursor:pointer;
}
progress{width:100%;margin-top:15px}
button{
  width:100%;
  margin-top:20px;
  padding:14px;
  border:none;
  border-radius:12px;
  background:#4f46e5;
  color:#fff;
}
.footer{
  text-align:center;
  margin-top:15px;
  font-size:12px;
  color:#666;
}
</style>
</head>
<body>

<div class="box">
<h2>ðŸ“¸ Admin Upload</h2>
<p id="count">0 files selected</p>

<div class="drop" onclick="file.click()">
Drag & Drop or Click to Upload
<input type="file" id="file" multiple hidden>
</div>

<progress id="bar" value="0" max="100"></progress>
<button onclick="upload()">Upload & Index</button>

<div class="footer">
Generated by <b>Kracken</b>
</div>
</div>

<script>
let files=[]
file.onchange=e=>{
 files=[...e.target.files]
 count.innerText=files.length+" files selected"
}
function upload(){
 let f=new FormData()
 files.forEach(x=>f.append("photos",x))
 let xh=new XMLHttpRequest()
 xh.open("POST","/admin/upload")
 xh.upload.onprogress=e=>bar.value=e.loaded/e.total*100
 xh.onload=()=>alert(xh.responseText)
 xh.send(f)
}
</script>

</body>
</html>
